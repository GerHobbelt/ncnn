<html><head><base target="_blank"><style>
img {width: 200px;}
iframe {border:10px #ff0 solid;}
</style><script>
var klyk=-1;
var lynks=null;


function kypreUP(e) {
klyk--;
document.title=klyk;
lynks[klyk].click();
lynks[klyk].innerText='0';
}

const vtwsig=	[0,				64/*@*/,				33/*!*/,			43/*+*/];
const vtwimg=['https://pbs.twimg.com/ext_tw_video_thumb/',	'https://pbs.twimg.com/amplify_video_thumb/',	'https://pbs.twimg.com/tweet_video_thumb/','https://pbs.twimg.com/media/'];
const vtwvid=['https://video.twimg.com/ext_tw_video/',		'https://video.twimg.com/amplify_video/',		'https://video.twimg.com/tweet_video/'];


function vidstr(src)
{
	var c0=src.charCodeAt(0);
	for(var i=1;i<3;i++){if(c0==vtwsig[i]){return vtwvid[i]+src.substring(1);}}
	return vtwvid[0]+src;
}

function thumbstr(src)
{
	var c0=src.charCodeAt(0);
	for(var i=1;i<4;i++){if(c0==vtwsig[i]){return vtwimg[i]+src.substring(1);}}
	return vtwimg[0]+src;
}


const kx1='<a href="https://twitter.com/i/status/';
const kx2='">====<br></a>';

const mgx3='" />';

var kv=function(e)
{
var ele=e.currentTarget;
window.open(vidstr(ele.alt), null, null);
}

var hv=function(e)
{
var ele=e.currentTarget;
var sig=ele.title;
if(sig=='i')
{
if(ele.naturalWidth==0)
{
ele.src=ele.src.slice(0,-6);
ele.dta='r';
}

ele.title='';
ele.onmouseover=null;
return;
}
ele.src=thumbstr(sig)+':thumb';
ele.title='i';
ele.onclick=kv;

}

function mkymg(str)
{
	var jk=str.split('\t');
	if(jk.length>2)
	{
		return '<img title="'+jk[0]+'" alt="'+jk[1]+mgx3;
	}
	return '----';

}



function repurl(yina)
{
var yza=yina.value.split('\n');
var yzal=yza.length;

document.body.style.backgroundColor = 'black';
document.onkeydown=kypreUP;

if(yza[0].charCodeAt(0)==118)	//==v
{
//yzal--;
	for(i=1;i<yzal;i++)
	{
		if(yza[i].length>15){yza[i]=kx1+yza[i]+kx2;}
		else{yza[i]='++++++';}
	}
	yina.outerHTML=yza.join(' ');
	
} else {
	var imgarr=new Array(yzal);
	yzal--;
	for(i=0;i<yzal;i++)
	{
	if(yza[i].charCodeAt(0)==59){yza[i]=kx1+yza[i].substring(1)+kx2;}
	else{

		imgarr[yzal-i]=mkymg(yza[i]);
		yza[i]=null;
	}
	}

	yina.outerHTML=imgarr.join('x')+yza.join(' ');

lynks=document.getElementsByTagName('img');
klyk=lynks.length;

for(var i=0;i<klyk;i++)
{lynks[i].onmouseover=hv;}
	
}


lynks=document.getElementsByTagName('a');

klyk=lynks.length;
document.scrollingElement.scrollTop=0;
}
var islarg=false;
function largsvg(ele)
{
	if(islarg){return;}

	ele.style.width=1500;
	ele.style.height=3000;
	document.scrollingElement.scrollTop=1000;
	islarg=true;
}

</script></head><body><textarea rows=40 cols=300 ondblclick=repurl(this)></textarea><br>
<object data="repl.txt"></object><object data="twtknu.csv"></object><br><br><br><br><iframe src="effsvg.svg.txt" onfocus=largsvg(this)></iframe></body></html>