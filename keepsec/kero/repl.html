<html><head><base target="_blank"></head><body><textarea rows=200 cols=200 ondblclick=repurl(this)>
==
==
</textarea></body>
<script>
var klyk=-1;
var lynks=null;

function kypre(e) {
klyk++;
document.title=klyk;
lynks[klyk].click();
lynks[klyk].innerText='0';
}

const vtwsig=	['',				'@',				'!',			'+'];
const vtwimg=['https://pbs.twimg.com/ext_tw_video_thumb/',	'https://pbs.twimg.com/amplify_video_thumb/',	'https://pbs.twimg.com/tweet_video_thumb/','https://pbs.twimg.com/media/'];
const vtwvid=['https://video.twimg.com/ext_tw_video/',		'https://video.twimg.com/amplify_video/',		'https://video.twimg.com/tweet_video/'];


function vidstr(src)
{
	var c0=src.charAt(0);
	for(i=1;i<3;i++){if(c0==vtwsig[i]){return vtwvid[i]+src.substring(1);}}
	return vtwvid[0]+src;
}

function thumbstr(src)
{
	var c0=src.charAt(0);
	for(i=1;i<4;i++){if(c0==vtwsig[i]){return vtwimg[i]+src.substring(1);}}
	return vtwimg[0]+src;
}


const kx1='<a href="https://twitter.com/i/status/';
const kx2='"><br>====</a>';

const mgx3='" width=200 onmouseover=hv(this) onclick=kl(this) />';

function kl(ele)
{
window.open(vidstr(ele.alt), null, null);
}

function hv(ele)
{
sig=ele.title;
if(sig=='i')
{
if(ele.naturalWidth==0)
{
ele.src=ele.src.slice(0,-6);
ele.dta='r';
}

ele.onmouseover=null;
return;
}
ele.src=thumbstr(sig)+':thumb';
ele.title='i';

}

function mkymg(str)
{
	jk=str.split('\t');
	if(jk.length>2)
	{
		return '<img title="'+jk[0]+'" alt="'+jk[1]+mgx3;
	}
	return '----';

}

function repurl(yina)
{
yza=yina.value.split('\n');
yzal=yza.length;
sti="";

if(yza[0].charAt(0)=='v')
{
	for(i=1;i<yzal;i++)
	{
	sti+=kx1+yza[i]+kx2;
	}
} else {
	for(i=0;i<yzal;i++)
	{
	if(yza[i].charAt(0)==';'){sti+=kx1+yza[i].substring(1)+kx2;}
	else{sti+=mkymg(yza[i]);}
	}
}
yina.outerHTML=sti;
lynks=document.getElementsByTagName("a");
document.onkeydown=kypre;
}



</script></html>
