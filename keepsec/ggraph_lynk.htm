<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head>
</head><body>
<svg xmlns="http://www.w3.org/2000/svg" width=800 height=800 style=float:right>
<g id='s' stroke=green stroke-width=3 fill=blue fill-opacity=0.25 >
</g>
<g fill='red'>
<circle cx=10 cy=10 r=3 />
<circle cx=110 cy=10 r=3 />
<circle cx=210 cy=10 r=3 />
<circle cx=310 cy=10 r=3 />
<circle cx=410 cy=10 r=3 />
<circle cx=510 cy=10 r=3 />
<circle cx=610 cy=10 r=3 />
<circle cx=710 cy=10 r=3 />
<circle cx=10 cy=110 r=3 />
<circle cx=110 cy=110 r=3 />
<circle cx=210 cy=110 r=3 />
<circle cx=310 cy=110 r=3 />
<circle cx=410 cy=110 r=3 />
<circle cx=510 cy=110 r=3 />
<circle cx=610 cy=110 r=3 />
<circle cx=710 cy=110 r=3 />
<circle cx=10 cy=210 r=3 />
<circle cx=110 cy=210 r=3 />
<circle cx=210 cy=210 r=3 />
<circle cx=310 cy=210 r=3 />
<circle cx=410 cy=210 r=3 />
<circle cx=510 cy=210 r=3 />
<circle cx=610 cy=210 r=3 />
<circle cx=710 cy=210 r=3 />
<circle cx=10 cy=310 r=3 />
<circle cx=110 cy=310 r=3 />
<circle cx=210 cy=310 r=3 />
<circle cx=310 cy=310 r=3 />
<circle cx=410 cy=310 r=3 />
<circle cx=510 cy=310 r=3 />
<circle cx=610 cy=310 r=3 />
<circle cx=710 cy=310 r=3 />
<circle cx=10 cy=410 r=3 />
<circle cx=110 cy=410 r=3 />
<circle cx=210 cy=410 r=3 />
<circle cx=310 cy=410 r=3 />
<circle cx=410 cy=410 r=3 />
<circle cx=510 cy=410 r=3 />
<circle cx=610 cy=410 r=3 />
<circle cx=710 cy=410 r=3 />
<circle cx=10 cy=510 r=3 />
<circle cx=110 cy=510 r=3 />
<circle cx=210 cy=510 r=3 />
<circle cx=310 cy=510 r=3 />
<circle cx=410 cy=510 r=3 />
<circle cx=510 cy=510 r=3 />
<circle cx=610 cy=510 r=3 />
<circle cx=710 cy=510 r=3 />
<circle cx=10 cy=610 r=3 />
<circle cx=110 cy=610 r=3 />
<circle cx=210 cy=610 r=3 />
<circle cx=310 cy=610 r=3 />
<circle cx=410 cy=610 r=3 />
<circle cx=510 cy=610 r=3 />
<circle cx=610 cy=610 r=3 />
<circle cx=710 cy=610 r=3 />
<circle cx=10 cy=710 r=3 />
<circle cx=110 cy=710 r=3 />
<circle cx=210 cy=710 r=3 />
<circle cx=310 cy=710 r=3 />
<circle cx=410 cy=710 r=3 />
<circle cx=510 cy=710 r=3 />
<circle cx=610 cy=710 r=3 />
<circle cx=710 cy=710 r=3 />
</g>

</svg>
<input id=txt0 type="number" onchange=mkpath(this) /><br>
<input id=txt1 type="number" onchange=mkpath(this) /><br>
<input id=txt2 type="number" onchange=mkpath(this) /><br>
<input id=txt3 type="number" onchange=mkpath(this) /><br>
<input id=txt4 type="number" onchange=mkpath(this) /><br>
<input id=txt5 type="number" onchange=mkpath(this) /><br>
<div id=infoi ></div>
<script type="text/javascript">
var linearea = document.getElementById('s');
var infoi = document.getElementById('infoi');
var eldict = {"txt0":null,"txt1":null,"txt2":null,"txt3":null,"txt4":null,"txt5":null};
var outnfo= "";

var reOrd = [3,4,5,0,1,2];
var yaoOrd = ["初","二","三","四","五","上",];

var guaname = [
	"坤", "復", "師", "臨", "謙", "夷", "升", "泰",
//8
	"豫", "震", "解", "妹", "ｇ", "豐", "恆", "壯",
//16
	"比", "屯", "坎", "節", "蹇", "既", "井", "需",
//24
	"萃", "隨", "困", "兌", "咸", "革", "Ｇ", "夬",
//32
	"剝", "頤", "蒙", "損", "艮", "賁", "蠱", "Ｘ",
//40
	"晉", "噬", "未", "睽", "旅", "離", "鼎", "有",
//48
	"觀", "益", "渙", "中", "漸", "家", "巽", "ｘ",
//56
	"否", "妄", "訟", "履", "遯", "同", "姤", "乾"];


var gualink_2 = [
[63, 00],
[31, 16],
[15, 48],
[47, 32],
[39, 36],
[07, 52],
[23, 20],
[55, 04],
[51, 12],
[19, 28],
[03, 60],
[35, 44],
[43, 40],
[11, 56],
[27, 24],
[59, 08],
[57, 09],
[25, 25],
[17, 29],
[49, 13],
[33, 45],
[01, 61],
[05, 53],
[37, 37],
[21, 21],
[41, 41],
[58, 10],
[26, 26],
[18, 30],
[50, 14],
[34, 46],
[02, 62],
[06, 54],
[38, 38],
[22, 22],
[42, 42]

];

var gualink_3 = [	
[63, 00],
[31, 01],
[15, 03],
[47, 02],
[39, 06],
[07, 07],
[23, 05],
[55, 04],
[51, 12],
[19, 13],
[27, 09],
[59, 08],
[43, 10],
[11, 11],
[35, 14],
[33, 30],
[49, 28],
[17, 29],
[25, 25],
[57, 24],
[41, 26],
[45, 18],
[61, 16],
[53, 20],
[21, 21],
[37, 22],
[36, 54],
[52, 52],
[60, 48],
[44, 50],
[40, 58],
[56, 56],
[32, 62],
[34, 46],
[42, 42],
[38, 38]
];

var guapath = [
[55,47,31,62,61,59],
[63,46,30,54,60,58],
[53,63,29,60,45,57],
[61,62,28,52,44,56],	//3

[51,43,63,58,57,27],
[59,42,62,50,56,26],
[49,59,61,56,41,25],
[57,58,60,48,40,24],	//7

[54,29,23,63,53,51],
[62,38,22,55,52,50],
[52,55,21,61,37,49],
[60,54,20,53,36,48],	//11

[50,35,55,59,49,19],
[58,34,54,51,48,18],
[48,51,53,57,33,17],
[56,50,52,49,32,16],	//15

[39,45,15,46,63,43],
[47,44,14,38,62,42],
[37,61,13,44,47,41],
[45,60,12,36,46,40],	//19

[35,41,47,42,59,11],
[43,40,46,34,58,10],
[33,57,45,40,43,09],
[41,56,44,32,42,08],	//23

[38,37,07,47,55,35],
[46,36,06,39,54,34],
[36,53,05,45,39,33],
[44,52,04,37,38,32],	//27

[34,33,39,43,51,03],
[42,32,38,35,50,02],
[32,49,37,41,35,01],
[40,48,36,33,34,00]	//31


];

var guapath_conti1 =  [
[55,47,31,62,61,59], 
[63,39,23,54,53,51],
[39,63,15,46,45,43],
[47,55,07,38,37,35],	//3

[23,15,63,30,29,27],
[31,07,55,22,21,19],
[07,31,47,14,13,11],
[15,23,39,06,05,03],	//7

[54,46,30,63,60,58],
[62,38,22,55,52,50],
[38,62,14,47,44,42],
[46,54,06,39,36,34],	//11

[22,14,62,31,28,26],
[30,06,54,23,20,18],
[06,30,46,15,12,10],
[14,22,38,07,04,02],	//15

[53,45,29,60,63,57],
[61,37,21,52,55,49],
[37,61,13,44,47,41],
[45,53,05,36,39,33],	//19

[21,13,61,28,31,25],
[29,05,53,20,23,17],
[05,29,45,12,15,09],
[13,21,37,04,07,01],	//23

[52,44,28,61,62,56],
[60,36,20,53,54,48],
[36,60,12,45,46,40],
[44,52,04,37,38,32],	//27

[20,12,60,29,30,24],
[28,04,52,21,22,16],
[04,28,44,13,14,08],
[12,20,36,05,06,00]	//31

];

function guaprint(ngua, nyao)
{
var syn='六';

if((ngua>>nyao)&1)
	syn='九';

if(nyao==0)
	return guaname[ngua]+'初'+syn;
else if(nyao==5)
	return guaname[ngua]+'上'+syn;
else
	return guaname[ngua]+syn+yaoOrd[nyao];
}

function mklyn(ngua)
{
	var kk = 'M';
	var negt = false;
	var ongua = ngua;
	if(ngua>31)
	{
		ngua=63-ngua;
		negt=true;
	}
	
	var arr = guapath[ngua];
	if(negt)
	{
	var narr = new Array(6);
	for(var nd in arr)
	{
		narr[nd]=63-arr[nd];
	}
	arr =narr;
	}
	
	
	for(var nd in arr)
	{
		var nn = parseInt(arr[nd]);
		var xx = 10+parseInt(nn / 8)*100;
		var yy = 10+(nn % 8)*100;
		kk+= ' '+xx+' '+yy+' L';
		
		outnfo+=guaprint(ongua,nd)+"\t=\t"+guaprint(nn,reOrd[nd])+"<br>";
	}
	
	return kk.slice(0, -2);
}

function mkpath(ele) {
outnfo= "";

var textavalue = ele.value;


var el = eldict[ele.id];

if(el)
{
//try{
linearea.removeChild(el);
eldict[ele.id] = null;
//}catch(e){}
}
	

if(textavalue<0)
{
infoi.innerHTML = "";
return;
}

infoi.innerHTML = "";

var sellink = gualink_3;

for(var pairp in sellink)
{
var pairz = sellink[pairp];
if(pairz[0]!=pairz[1])
{

var zel= document.createElementNS('http://www.w3.org/2000/svg', 'line');

var nn = parseInt(pairz[0]);
var xx = 10+parseInt(nn / 8)*100;
var yy = 10+(nn % 8)*100;

zel.setAttribute('x1', xx);
zel.setAttribute('y1', yy);

infoi.innerHTML += guaname[nn]+'--------------';

nn = parseInt(pairz[1]);
xx = 10+parseInt(nn / 8)*100;
yy = 10+(nn % 8)*100;

zel.setAttribute('x2', xx);
zel.setAttribute('y2', yy);

linearea.appendChild(zel);

infoi.innerHTML += guaname[nn]+'<br>';

}
else
{
var zel= document.createElementNS('http://www.w3.org/2000/svg', 'circle');

var nn = parseInt(pairz[0]);
var xx = 10+parseInt(nn / 8)*100;
var yy = 10+(nn % 8)*100;
zel.setAttribute('cx', xx);
zel.setAttribute('cy', yy);
zel.setAttribute('r', 8);
linearea.appendChild(zel);

infoi.innerHTML +='!!'+guaname[nn]+'!!<br>';

}

}

eldict[ele.id] = el;
}



</script>
</body></html>