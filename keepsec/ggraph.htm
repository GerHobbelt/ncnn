<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head>
</head><body>
<svg xmlns="http://www.w3.org/2000/svg" width=800 height=800 style=float:right>
<g fill='red'>
<circle cx=10 cy=10 r=3 />
<circle cx=110 cy=10 r=3 />
<circle cx=210 cy=10 r=3 />
<circle cx=310 cy=10 r=3 />
<circle cx=410 cy=10 r=3 />
<circle cx=510 cy=10 r=3 />
<circle cx=610 cy=10 r=3 />
<circle cx=710 cy=10 r=3 />
<circle cx=10 cy=110 r=3 />
<circle cx=110 cy=110 r=3 />
<circle cx=210 cy=110 r=3 />
<circle cx=310 cy=110 r=3 />
<circle cx=410 cy=110 r=3 />
<circle cx=510 cy=110 r=3 />
<circle cx=610 cy=110 r=3 />
<circle cx=710 cy=110 r=3 />
<circle cx=10 cy=210 r=3 />
<circle cx=110 cy=210 r=3 />
<circle cx=210 cy=210 r=3 />
<circle cx=310 cy=210 r=3 />
<circle cx=410 cy=210 r=3 />
<circle cx=510 cy=210 r=3 />
<circle cx=610 cy=210 r=3 />
<circle cx=710 cy=210 r=3 />
<circle cx=10 cy=310 r=3 />
<circle cx=110 cy=310 r=3 />
<circle cx=210 cy=310 r=3 />
<circle cx=310 cy=310 r=3 />
<circle cx=410 cy=310 r=3 />
<circle cx=510 cy=310 r=3 />
<circle cx=610 cy=310 r=3 />
<circle cx=710 cy=310 r=3 />
<circle cx=10 cy=410 r=3 />
<circle cx=110 cy=410 r=3 />
<circle cx=210 cy=410 r=3 />
<circle cx=310 cy=410 r=3 />
<circle cx=410 cy=410 r=3 />
<circle cx=510 cy=410 r=3 />
<circle cx=610 cy=410 r=3 />
<circle cx=710 cy=410 r=3 />
<circle cx=10 cy=510 r=3 />
<circle cx=110 cy=510 r=3 />
<circle cx=210 cy=510 r=3 />
<circle cx=310 cy=510 r=3 />
<circle cx=410 cy=510 r=3 />
<circle cx=510 cy=510 r=3 />
<circle cx=610 cy=510 r=3 />
<circle cx=710 cy=510 r=3 />
<circle cx=10 cy=610 r=3 />
<circle cx=110 cy=610 r=3 />
<circle cx=210 cy=610 r=3 />
<circle cx=310 cy=610 r=3 />
<circle cx=410 cy=610 r=3 />
<circle cx=510 cy=610 r=3 />
<circle cx=610 cy=610 r=3 />
<circle cx=710 cy=610 r=3 />
<circle cx=10 cy=710 r=3 />
<circle cx=110 cy=710 r=3 />
<circle cx=210 cy=710 r=3 />
<circle cx=310 cy=710 r=3 />
<circle cx=410 cy=710 r=3 />
<circle cx=510 cy=710 r=3 />
<circle cx=610 cy=710 r=3 />
<circle cx=710 cy=710 r=3 />
</g>
<g id='s' stroke=black stroke-width=3 fill=green fill-opacity=0.25 >
</g>
</svg>
<input id=txt0 type="number" onchange=mkpath(this) /><br>
<input id=txt1 type="number" onchange=mkpath(this) /><br>
<input id=txt2 type="number" onchange=mkpath(this) /><br>
<input id=txt3 type="number" onchange=mkpath(this) /><br>
<input id=txt4 type="number" onchange=mkpath(this) /><br>
<input id=txt5 type="number" onchange=mkpath(this) /><br>
<div id=infoi ></div>
<script type="text/javascript">
var linearea = document.getElementById('s');
var infoi = document.getElementById('infoi');
var eldict = {"txt0":null,"txt1":null,"txt2":null,"txt3":null,"txt4":null,"txt5":null};
var outnfo= "";

var reOrd = [3,4,5,0,1,2];
var yaoOrd = ["初","二","三","四","五","上",];

var guaname = [
	"坤", "復", "師", "臨", "謙", "夷", "升", "泰",
//8
	"豫", "震", "解", "妹", "ｇ", "豐", "恆", "壯",
//16
	"比", "屯", "坎", "節", "蹇", "既", "井", "需",
//24
	"萃", "隨", "困", "兌", "咸", "革", "Ｇ", "夬",
//32
	"剝", "頤", "蒙", "損", "艮", "賁", "蠱", "Ｘ",
//40
	"晉", "噬", "未", "睽", "旅", "離", "鼎", "有",
//48
	"觀", "益", "渙", "中", "漸", "家", "巽", "ｘ",
//56
	"否", "妄", "訟", "履", "遯", "同", "姤", "乾"];

var guapath =  [
[55,47,31,62,61,59], 
[63,39,23,54,53,51],
[39,63,15,46,45,43],
[47,55,07,38,37,35],	//3

[23,15,63,30,29,27],
[31,07,55,22,21,19],
[07,31,47,14,13,11],
[15,23,39,06,05,03],	//7

[54,46,30,63,60,58],
[62,38,22,55,52,50],
[38,62,14,47,44,42],
[46,54,06,39,36,34],	//11

[22,14,62,31,28,26],
[30,06,54,23,20,18],
[06,30,46,15,12,10],
[14,22,38,07,04,02],	//15

[53,45,29,60,63,57],
[61,37,21,52,55,49],
[37,61,13,44,47,41],
[45,53,05,36,39,33],	//19

[21,13,61,28,31,25],
[29,05,53,20,23,17],
[05,29,45,12,15,09],
[13,21,37,04,07,01],	//23

[52,44,28,61,62,56],
[60,36,20,53,54,48],
[36,60,12,45,46,40],
[44,52,04,37,38,32],	//27

[20,12,60,29,30,24],
[28,04,52,21,22,16],
[04,28,44,13,14,08],
[12,20,36,05,06,00]	//31

];

function guaprint(ngua, nyao)
{
var syn='六';

if((ngua>>nyao)&1)
	syn='九';

if(nyao==0)
	return guaname[ngua]+'初'+syn;
else if(nyao==5)
	return guaname[ngua]+'上'+syn;
else
	return guaname[ngua]+syn+yaoOrd[nyao];
}

function mklyn(ngua)
{
	var kk = 'M';
	var negt = false;
	var ongua = ngua;
	if(ngua>31)
	{
		ngua=63-ngua;
		negt=true;
	}
	
	var arr = guapath[ngua];
	if(negt)
	{
	var narr = new Array(6);
	for(var nd in arr)
	{
		narr[nd]=63-arr[nd];
	}
	arr =narr;
	}
	
	
	for(var nd in arr)
	{
		var nn = parseInt(arr[nd]);
		var xx = 10+parseInt(nn / 8)*100;
		var yy = 10+(nn % 8)*100;
		kk+= ' '+xx+' '+yy+' L';
		
		outnfo+=guaprint(ongua,nd)+"\t=\t"+guaprint(nn,reOrd[nd])+"<br>";
	}
	
	return kk.slice(0, -2);
}

function mkpath(ele) {
outnfo= "";

var textavalue = ele.value;


var el = eldict[ele.id];

if(el)
{
//try{
linearea.removeChild(el);
eldict[ele.id] = null;
//}catch(e){}
}
	

if(textavalue<0)
{
infoi.innerHTML = "";
return;
}
	
el= document.createElementNS('http://www.w3.org/2000/svg', 'path');
el.setAttribute('d', mklyn(textavalue));

linearea.appendChild(el);
infoi.innerHTML = outnfo;
eldict[ele.id] = el;
}



</script>
</body></html>